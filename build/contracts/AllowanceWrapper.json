{"fileName":"ERC1155AllowanceWrapper.sol","contractName":"AllowanceWrapper","source":"pragma solidity ^0.5.0;\n\nimport \"./IERC1155.sol\";\nimport \"./ERC165.sol\";\nimport \"./SafeMath.sol\";\n\n// Shows how you could wrap some allowance on top of ERC1155\n// A user would setApprovalForAll(true) for this wrapper in the target contract,\n// and the set the individual allowances here.\ncontract AllowanceWrapper is IERC1155, ERC165\n{\n    using SafeMath for uint256;\n\n    IERC1155 targetContract;\n\n    // from => operator => id => allowance\n    mapping(address => mapping(address => mapping(uint256 => uint256))) allowances;\n\n    /**\n        @dev Pass in the target contract.\n    */\n    constructor(address _target) public {\n        targetContract = IERC1155(_target);\n    }\n\n    /**\n        @dev MUST emit on any successful call to approve(address _spender, uint256 _id, uint256 _currentValue, uint256 _value)\n    */\n    event Approval(address indexed _owner, address indexed _spender, uint256 indexed _id, uint256 _oldValue, uint256 _value);\n\n    /**\n        @notice Allow other accounts/contracts to spend tokens on behalf of msg.sender\n        @dev MUST emit Approval event on success.\n        To minimize the risk of the approve/transferFrom attack vector (see https://docs.google.com/document/d/1YLPtQxZu1UAvO9cZ1O2RPXBbT0mooh4DYKjA_jp-RLM/), this function will throw if the current approved allowance does not equal the expected _currentValue, unless _value is 0.\n        @param _spender      Address to approve\n        @param _id           ID of the Token\n        @param _currentValue Expected current value of approved allowance.\n        @param _value        Allowance amount\n    */\n    function approve(address _spender, uint256 _id, uint256 _currentValue, uint256 _value) external {\n\n        require(allowances[msg.sender][_spender][_id] == _currentValue);\n        allowances[msg.sender][_spender][_id] = _value;\n\n        emit Approval(msg.sender, _spender, _id, _currentValue, _value);\n    }\n\n    /**\n        @notice Queries the spending limit approved for an account\n        @param _id       ID of the Token\n        @param _owner    The owner allowing the spending\n        @param _spender  The address allowed to spend.\n        @return          The _spender's allowed spending balance of the Token requested\n     */\n    function allowance(address _owner, address _spender, uint256 _id) external view returns (uint256){\n        return allowances[_owner][_spender][_id];\n    }\n\n    // ERC1155\n\n    function supportsInterface(bytes4 _interfaceId)\n    external\n    view\n    returns (bool) {\n         ERC165(address(targetContract)).supportsInterface(_interfaceId);\n    }\n\n    /**\n        @notice Transfers value amount of an _id from the _from address to the _to addresses specified. Each parameter array should be the same length, with each index correlating.\n        @dev MUST emit Transfer event on success.\n        Caller must have sufficient allowance by _from for the _id/_value pair, or isApprovedForAll must be true.\n        Throws if `_to` is the zero address.\n        Throws if `_id` is not a valid token ID.\n        Once allowance is checked the target contract's safeTransferFrom function is called.\n        @param _from    source addresses\n        @param _to      target addresses\n        @param _id      ID of the Token\n        @param _value   transfer amounts\n        @param _data    Additional data with no specified format, sent in call to `_to`\n    */\n    function safeTransferFrom(address _from, address _to, uint256 _id, uint256 _value, bytes calldata _data) external /*payable*/  {\n        if (msg.sender != _from) {\n            allowances[_from][msg.sender][_id] = allowances[_from][msg.sender][_id].sub(_value);\n        }\n        targetContract.safeTransferFrom(_from, _to, _id, _value, _data);\n    }\n\n    /**\n        @notice Send multiple types of Tokens from a 3rd party in one transfer (with safety call)\n        @dev MUST emit Transfer event per id on success.\n        Caller must have a sufficient allowance by _from for each of the id/value pairs.\n        Throws on any error rather than return a false flag to minimize user errors.\n        Once allowances are checked the target contract's safeBatchTransferFrom function is called.\n        @param _from    Source address\n        @param _to      Target address\n        @param _ids     Types of Tokens\n        @param _values  Transfer amounts per token type\n        @param _data    Additional data with no specified format, sent in call to `_to`\n    */\n    function safeBatchTransferFrom(address _from, address _to, uint256[] calldata _ids, uint256[] calldata _values, bytes calldata _data) external /*payable*/ {\n        if (msg.sender != _from) {\n            for (uint256 i = 0; i < _ids.length; ++i) {\n                allowances[_from][msg.sender][_ids[i]] = allowances[_from][msg.sender][_ids[i]].sub(_values[i]);\n            }\n        }\n        targetContract.safeBatchTransferFrom(_from, _to, _ids, _values, _data);\n    }\n\n    /**\n        @notice Get the balance of an account's Tokens\n        @param _owner  The address of the token holder\n        @param _id     ID of the Token\n        @return        The _owner's balance of the Token type requested\n     */\n    function balanceOf(address _owner, uint256 _id) external view returns (uint256) {\n        return targetContract.balanceOf(_owner, _id);\n    }\n\n    /**\n        @notice Enable or disable approval for a third party (\"operator\") to manage all of `msg.sender`'s tokens.\n        @dev MUST emit the ApprovalForAll event on success.\n    */\n    function setApprovalForAll(address /*_operator*/, bool /*_approved*/) external {\n        // Do this on the wrapped contract directly. We can't do this here\n        revert();\n    }\n\n    /**\n        @notice Queries the approval status of an operator for a given Token and owner\n        @param _owner     The owner of the Tokens\n        @param _operator  Address of authorized operator\n        @return           True if the operator is approved, false if not\n    */\n    function isApprovedForAll(address _owner, address _operator) view external returns (bool) {\n        return targetContract.isApprovedForAll(_owner, _operator);\n    }\n}\n","sourcePath":"contracts/erc-1155/contracts/ERC1155AllowanceWrapper.sol","sourceMap":"","deployedSourceMap":"","abi":[{"constant":true,"inputs":[{"name":"_owner","type":"address"},{"name":"_id","type":"uint256"}],"name":"balanceOf","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_ids","type":"uint256[]"},{"name":"_values","type":"uint256[]"},{"name":"_data","type":"bytes"}],"name":"safeBatchTransferFrom","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_owners","type":"address[]"},{"name":"_ids","type":"uint256[]"}],"name":"balanceOfBatch","outputs":[{"name":"","type":"uint256[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_id","type":"uint256"},{"name":"_currentValue","type":"uint256"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"},{"name":"_spender","type":"address"},{"name":"_id","type":"uint256"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"","type":"address"},{"name":"","type":"bool"}],"name":"setApprovalForAll","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"},{"name":"_operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_id","type":"uint256"},{"name":"_value","type":"uint256"},{"name":"_data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"inputs":[{"name":"_target","type":"address"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_owner","type":"address"},{"indexed":true,"name":"_spender","type":"address"},{"indexed":true,"name":"_id","type":"uint256"},{"indexed":false,"name":"_oldValue","type":"uint256"},{"indexed":false,"name":"_value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_operator","type":"address"},{"indexed":true,"name":"_from","type":"address"},{"indexed":true,"name":"_to","type":"address"},{"indexed":false,"name":"_id","type":"uint256"},{"indexed":false,"name":"_value","type":"uint256"}],"name":"TransferSingle","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_operator","type":"address"},{"indexed":true,"name":"_from","type":"address"},{"indexed":true,"name":"_to","type":"address"},{"indexed":false,"name":"_ids","type":"uint256[]"},{"indexed":false,"name":"_values","type":"uint256[]"}],"name":"TransferBatch","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_owner","type":"address"},{"indexed":true,"name":"_operator","type":"address"},{"indexed":false,"name":"_approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"_value","type":"string"},{"indexed":true,"name":"_id","type":"uint256"}],"name":"URI","type":"event"}],"ast":{"absolutePath":"contracts/erc-1155/contracts/ERC1155AllowanceWrapper.sol","exportedSymbols":{"AllowanceWrapper":[910]},"id":911,"nodeType":"SourceUnit","nodes":[{"id":617,"literals":["solidity","^","0.5",".0"],"nodeType":"PragmaDirective","src":"0:23:4"},{"absolutePath":"contracts/erc-1155/contracts/IERC1155.sol","file":"./IERC1155.sol","id":618,"nodeType":"ImportDirective","scope":911,"sourceUnit":2176,"src":"25:24:4","symbolAliases":[],"unitAlias":""},{"absolutePath":"contracts/erc-1155/contracts/ERC165.sol","file":"./ERC165.sol","id":619,"nodeType":"ImportDirective","scope":911,"sourceUnit":2067,"src":"50:22:4","symbolAliases":[],"unitAlias":""},{"absolutePath":"contracts/erc-1155/contracts/SafeMath.sol","file":"./SafeMath.sol","id":620,"nodeType":"ImportDirective","scope":911,"sourceUnit":3075,"src":"73:24:4","symbolAliases":[],"unitAlias":""},{"baseContracts":[{"arguments":null,"baseName":{"contractScope":null,"id":621,"name":"IERC1155","nodeType":"UserDefinedTypeName","referencedDeclaration":2175,"src":"317:8:4","typeDescriptions":{"typeIdentifier":"t_contract$_IERC1155_$2175","typeString":"contract IERC1155"}},"id":622,"nodeType":"InheritanceSpecifier","src":"317:8:4"},{"arguments":null,"baseName":{"contractScope":null,"id":623,"name":"ERC165","nodeType":"UserDefinedTypeName","referencedDeclaration":2066,"src":"327:6:4","typeDescriptions":{"typeIdentifier":"t_contract$_ERC165_$2066","typeString":"contract ERC165"}},"id":624,"nodeType":"InheritanceSpecifier","src":"327:6:4"}],"contractDependencies":[2066,2175],"contractKind":"contract","documentation":null,"fullyImplemented":false,"id":910,"linearizedBaseContracts":[910,2066,2175],"name":"AllowanceWrapper","nodeType":"ContractDefinition","nodes":[{"id":627,"libraryName":{"contractScope":null,"id":625,"name":"SafeMath","nodeType":"UserDefinedTypeName","referencedDeclaration":3074,"src":"346:8:4","typeDescriptions":{"typeIdentifier":"t_contract$_SafeMath_$3074","typeString":"library SafeMath"}},"nodeType":"UsingForDirective","src":"340:27:4","typeName":{"id":626,"name":"uint256","nodeType":"ElementaryTypeName","src":"359:7:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}},{"constant":false,"id":629,"name":"targetContract","nodeType":"VariableDeclaration","scope":910,"src":"373:23:4","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IERC1155_$2175","typeString":"contract IERC1155"},"typeName":{"contractScope":null,"id":628,"name":"IERC1155","nodeType":"UserDefinedTypeName","referencedDeclaration":2175,"src":"373:8:4","typeDescriptions":{"typeIdentifier":"t_contract$_IERC1155_$2175","typeString":"contract IERC1155"}},"value":null,"visibility":"internal"},{"constant":false,"id":637,"name":"allowances","nodeType":"VariableDeclaration","scope":910,"src":"446:78:4","stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_address_$_t_mapping$_t_uint256_$_t_uint256_$_$_$","typeString":"mapping(address => mapping(address => mapping(uint256 => uint256)))"},"typeName":{"id":636,"keyType":{"id":630,"name":"address","nodeType":"ElementaryTypeName","src":"454:7:4","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Mapping","src":"446:67:4","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_address_$_t_mapping$_t_uint256_$_t_uint256_$_$_$","typeString":"mapping(address => mapping(address => mapping(uint256 => uint256)))"},"valueType":{"id":635,"keyType":{"id":631,"name":"address","nodeType":"ElementaryTypeName","src":"473:7:4","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Mapping","src":"465:47:4","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_uint256_$_t_uint256_$_$","typeString":"mapping(address => mapping(uint256 => uint256))"},"valueType":{"id":634,"keyType":{"id":632,"name":"uint256","nodeType":"ElementaryTypeName","src":"492:7:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Mapping","src":"484:27:4","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"},"valueType":{"id":633,"name":"uint256","nodeType":"ElementaryTypeName","src":"503:7:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}}}},"value":null,"visibility":"internal"},{"body":{"id":648,"nodeType":"Block","src":"624:51:4","statements":[{"expression":{"argumentTypes":null,"id":646,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"id":642,"name":"targetContract","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":629,"src":"634:14:4","typeDescriptions":{"typeIdentifier":"t_contract$_IERC1155_$2175","typeString":"contract IERC1155"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":644,"name":"_target","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":639,"src":"660:7:4","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":643,"name":"IERC1155","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2175,"src":"651:8:4","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IERC1155_$2175_$","typeString":"type(contract IERC1155)"}},"id":645,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"651:17:4","typeDescriptions":{"typeIdentifier":"t_contract$_IERC1155_$2175","typeString":"contract IERC1155"}},"src":"634:34:4","typeDescriptions":{"typeIdentifier":"t_contract$_IERC1155_$2175","typeString":"contract IERC1155"}},"id":647,"nodeType":"ExpressionStatement","src":"634:34:4"}]},"documentation":"@dev Pass in the target contract.","id":649,"implemented":true,"kind":"constructor","modifiers":[],"name":"","nodeType":"FunctionDefinition","parameters":{"id":640,"nodeType":"ParameterList","parameters":[{"constant":false,"id":639,"name":"_target","nodeType":"VariableDeclaration","scope":649,"src":"600:15:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":638,"name":"address","nodeType":"ElementaryTypeName","src":"600:7:4","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"}],"src":"599:17:4"},"returnParameters":{"id":641,"nodeType":"ParameterList","parameters":[],"src":"624:0:4"},"scope":910,"src":"588:87:4","stateMutability":"nonpayable","superFunction":null,"visibility":"public"},{"anonymous":false,"documentation":"@dev MUST emit on any successful call to approve(address _spender, uint256 _id, uint256 _currentValue, uint256 _value)","id":661,"name":"Approval","nodeType":"EventDefinition","parameters":{"id":660,"nodeType":"ParameterList","parameters":[{"constant":false,"id":651,"indexed":true,"name":"_owner","nodeType":"VariableDeclaration","scope":661,"src":"838:22:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":650,"name":"address","nodeType":"ElementaryTypeName","src":"838:7:4","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":653,"indexed":true,"name":"_spender","nodeType":"VariableDeclaration","scope":661,"src":"862:24:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":652,"name":"address","nodeType":"ElementaryTypeName","src":"862:7:4","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":655,"indexed":true,"name":"_id","nodeType":"VariableDeclaration","scope":661,"src":"888:19:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":654,"name":"uint256","nodeType":"ElementaryTypeName","src":"888:7:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":657,"indexed":false,"name":"_oldValue","nodeType":"VariableDeclaration","scope":661,"src":"909:17:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":656,"name":"uint256","nodeType":"ElementaryTypeName","src":"909:7:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":659,"indexed":false,"name":"_value","nodeType":"VariableDeclaration","scope":661,"src":"928:14:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":658,"name":"uint256","nodeType":"ElementaryTypeName","src":"928:7:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"837:106:4"},"src":"823:121:4"},{"body":{"id":705,"nodeType":"Block","src":"1693:211:4","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":682,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":673,"name":"allowances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":637,"src":"1712:10:4","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_address_$_t_mapping$_t_uint256_$_t_uint256_$_$_$","typeString":"mapping(address => mapping(address => mapping(uint256 => uint256)))"}},"id":676,"indexExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":674,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3145,"src":"1723:3:4","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":675,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"1723:10:4","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1712:22:4","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_uint256_$_t_uint256_$_$","typeString":"mapping(address => mapping(uint256 => uint256))"}},"id":678,"indexExpression":{"argumentTypes":null,"id":677,"name":"_spender","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":663,"src":"1735:8:4","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1712:32:4","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"}},"id":680,"indexExpression":{"argumentTypes":null,"id":679,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":665,"src":"1745:3:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1712:37:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"argumentTypes":null,"id":681,"name":"_currentValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":667,"src":"1753:13:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1712:54:4","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bool","typeString":"bool"}],"id":672,"name":"require","nodeType":"Identifier","overloadedDeclarations":[3148,3149],"referencedDeclaration":3148,"src":"1704:7:4","typeDescriptions":{"typeIdentifier":"t_function_require_pure$_t_bool_$returns$__$","typeString":"function (bool) pure"}},"id":683,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1704:63:4","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":684,"nodeType":"ExpressionStatement","src":"1704:63:4"},{"expression":{"argumentTypes":null,"id":694,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":685,"name":"allowances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":637,"src":"1777:10:4","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_address_$_t_mapping$_t_uint256_$_t_uint256_$_$_$","typeString":"mapping(address => mapping(address => mapping(uint256 => uint256)))"}},"id":690,"indexExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":686,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3145,"src":"1788:3:4","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":687,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"1788:10:4","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1777:22:4","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_uint256_$_t_uint256_$_$","typeString":"mapping(address => mapping(uint256 => uint256))"}},"id":691,"indexExpression":{"argumentTypes":null,"id":688,"name":"_spender","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":663,"src":"1800:8:4","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1777:32:4","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"}},"id":692,"indexExpression":{"argumentTypes":null,"id":689,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":665,"src":"1810:3:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"1777:37:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"id":693,"name":"_value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":669,"src":"1817:6:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1777:46:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":695,"nodeType":"ExpressionStatement","src":"1777:46:4"},{"eventCall":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"expression":{"argumentTypes":null,"id":697,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3145,"src":"1848:3:4","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":698,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"1848:10:4","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},{"argumentTypes":null,"id":699,"name":"_spender","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":663,"src":"1860:8:4","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":700,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":665,"src":"1870:3:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":701,"name":"_currentValue","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":667,"src":"1875:13:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":702,"name":"_value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":669,"src":"1890:6:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address_payable","typeString":"address payable"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":696,"name":"Approval","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":661,"src":"1839:8:4","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_address_$_t_uint256_$_t_uint256_$_t_uint256_$returns$__$","typeString":"function (address,address,uint256,uint256,uint256)"}},"id":703,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"1839:58:4","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":704,"nodeType":"EmitStatement","src":"1834:63:4"}]},"documentation":"@notice Allow other accounts/contracts to spend tokens on behalf of msg.sender\n@dev MUST emit Approval event on success.\nTo minimize the risk of the approve/transferFrom attack vector (see https://docs.google.com/document/d/1YLPtQxZu1UAvO9cZ1O2RPXBbT0mooh4DYKjA_jp-RLM/), this function will throw if the current approved allowance does not equal the expected _currentValue, unless _value is 0.\n@param _spender      Address to approve\n@param _id           ID of the Token\n@param _currentValue Expected current value of approved allowance.\n@param _value        Allowance amount","id":706,"implemented":true,"kind":"function","modifiers":[],"name":"approve","nodeType":"FunctionDefinition","parameters":{"id":670,"nodeType":"ParameterList","parameters":[{"constant":false,"id":663,"name":"_spender","nodeType":"VariableDeclaration","scope":706,"src":"1614:16:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":662,"name":"address","nodeType":"ElementaryTypeName","src":"1614:7:4","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":665,"name":"_id","nodeType":"VariableDeclaration","scope":706,"src":"1632:11:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":664,"name":"uint256","nodeType":"ElementaryTypeName","src":"1632:7:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":667,"name":"_currentValue","nodeType":"VariableDeclaration","scope":706,"src":"1645:21:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":666,"name":"uint256","nodeType":"ElementaryTypeName","src":"1645:7:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":669,"name":"_value","nodeType":"VariableDeclaration","scope":706,"src":"1668:14:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":668,"name":"uint256","nodeType":"ElementaryTypeName","src":"1668:7:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"1613:70:4"},"returnParameters":{"id":671,"nodeType":"ParameterList","parameters":[],"src":"1693:0:4"},"scope":910,"src":"1597:307:4","stateMutability":"nonpayable","superFunction":null,"visibility":"external"},{"body":{"id":725,"nodeType":"Block","src":"2331:57:4","statements":[{"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":717,"name":"allowances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":637,"src":"2348:10:4","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_address_$_t_mapping$_t_uint256_$_t_uint256_$_$_$","typeString":"mapping(address => mapping(address => mapping(uint256 => uint256)))"}},"id":719,"indexExpression":{"argumentTypes":null,"id":718,"name":"_owner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":708,"src":"2359:6:4","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2348:18:4","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_uint256_$_t_uint256_$_$","typeString":"mapping(address => mapping(uint256 => uint256))"}},"id":721,"indexExpression":{"argumentTypes":null,"id":720,"name":"_spender","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":710,"src":"2367:8:4","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2348:28:4","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"}},"id":723,"indexExpression":{"argumentTypes":null,"id":722,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":712,"src":"2377:3:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"2348:33:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":716,"id":724,"nodeType":"Return","src":"2341:40:4"}]},"documentation":"@notice Queries the spending limit approved for an account\n@param _id       ID of the Token\n@param _owner    The owner allowing the spending\n@param _spender  The address allowed to spend.\n@return          The _spender's allowed spending balance of the Token requested","id":726,"implemented":true,"kind":"function","modifiers":[],"name":"allowance","nodeType":"FunctionDefinition","parameters":{"id":713,"nodeType":"ParameterList","parameters":[{"constant":false,"id":708,"name":"_owner","nodeType":"VariableDeclaration","scope":726,"src":"2253:14:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":707,"name":"address","nodeType":"ElementaryTypeName","src":"2253:7:4","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":710,"name":"_spender","nodeType":"VariableDeclaration","scope":726,"src":"2269:16:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":709,"name":"address","nodeType":"ElementaryTypeName","src":"2269:7:4","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":712,"name":"_id","nodeType":"VariableDeclaration","scope":726,"src":"2287:11:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":711,"name":"uint256","nodeType":"ElementaryTypeName","src":"2287:7:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"2252:47:4"},"returnParameters":{"id":716,"nodeType":"ParameterList","parameters":[{"constant":false,"id":715,"name":"","nodeType":"VariableDeclaration","scope":726,"src":"2323:7:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":714,"name":"uint256","nodeType":"ElementaryTypeName","src":"2323:7:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"2322:9:4"},"scope":910,"src":"2234:154:4","stateMutability":"view","superFunction":null,"visibility":"external"},{"body":{"id":742,"nodeType":"Block","src":"2499:81:4","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":739,"name":"_interfaceId","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":728,"src":"2560:12:4","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes4","typeString":"bytes4"}],"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":735,"name":"targetContract","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":629,"src":"2525:14:4","typeDescriptions":{"typeIdentifier":"t_contract$_IERC1155_$2175","typeString":"contract IERC1155"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_IERC1155_$2175","typeString":"contract IERC1155"}],"id":734,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2517:7:4","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":"address"},"id":736,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2517:23:4","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":733,"name":"ERC165","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2066,"src":"2510:6:4","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ERC165_$2066_$","typeString":"type(contract ERC165)"}},"id":737,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2510:31:4","typeDescriptions":{"typeIdentifier":"t_contract$_ERC165_$2066","typeString":"contract ERC165"}},"id":738,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"supportsInterface","nodeType":"MemberAccess","referencedDeclaration":2065,"src":"2510:49:4","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_bytes4_$returns$_t_bool_$","typeString":"function (bytes4) view external returns (bool)"}},"id":740,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"2510:63:4","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":741,"nodeType":"ExpressionStatement","src":"2510:63:4"}]},"documentation":null,"id":743,"implemented":true,"kind":"function","modifiers":[],"name":"supportsInterface","nodeType":"FunctionDefinition","parameters":{"id":729,"nodeType":"ParameterList","parameters":[{"constant":false,"id":728,"name":"_interfaceId","nodeType":"VariableDeclaration","scope":743,"src":"2437:19:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":727,"name":"bytes4","nodeType":"ElementaryTypeName","src":"2437:6:4","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"value":null,"visibility":"internal"}],"src":"2436:21:4"},"returnParameters":{"id":732,"nodeType":"ParameterList","parameters":[{"constant":false,"id":731,"name":"","nodeType":"VariableDeclaration","scope":743,"src":"2493:4:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":730,"name":"bool","nodeType":"ElementaryTypeName","src":"2493:4:4","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"}],"src":"2492:6:4"},"scope":910,"src":"2410:170:4","stateMutability":"view","superFunction":2065,"visibility":"external"},{"body":{"id":793,"nodeType":"Block","src":"3511:222:4","statements":[{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":759,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":756,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3145,"src":"3525:3:4","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":757,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"3525:10:4","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"id":758,"name":"_from","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":745,"src":"3539:5:4","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"3525:19:4","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":782,"nodeType":"IfStatement","src":"3521:133:4","trueBody":{"id":781,"nodeType":"Block","src":"3546:108:4","statements":[{"expression":{"argumentTypes":null,"id":779,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":760,"name":"allowances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":637,"src":"3560:10:4","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_address_$_t_mapping$_t_uint256_$_t_uint256_$_$_$","typeString":"mapping(address => mapping(address => mapping(uint256 => uint256)))"}},"id":765,"indexExpression":{"argumentTypes":null,"id":761,"name":"_from","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":745,"src":"3571:5:4","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3560:17:4","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_uint256_$_t_uint256_$_$","typeString":"mapping(address => mapping(uint256 => uint256))"}},"id":766,"indexExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":762,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3145,"src":"3578:3:4","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":763,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"3578:10:4","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3560:29:4","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"}},"id":767,"indexExpression":{"argumentTypes":null,"id":764,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":749,"src":"3590:3:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"3560:34:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":777,"name":"_value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":751,"src":"3636:6:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":768,"name":"allowances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":637,"src":"3597:10:4","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_address_$_t_mapping$_t_uint256_$_t_uint256_$_$_$","typeString":"mapping(address => mapping(address => mapping(uint256 => uint256)))"}},"id":770,"indexExpression":{"argumentTypes":null,"id":769,"name":"_from","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":745,"src":"3608:5:4","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3597:17:4","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_uint256_$_t_uint256_$_$","typeString":"mapping(address => mapping(uint256 => uint256))"}},"id":773,"indexExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":771,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3145,"src":"3615:3:4","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":772,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"3615:10:4","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3597:29:4","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"}},"id":775,"indexExpression":{"argumentTypes":null,"id":774,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":749,"src":"3627:3:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3597:34:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":776,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sub","nodeType":"MemberAccess","referencedDeclaration":3049,"src":"3597:38:4","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":778,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3597:46:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3560:83:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":780,"nodeType":"ExpressionStatement","src":"3560:83:4"}]}},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":786,"name":"_from","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":745,"src":"3695:5:4","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":787,"name":"_to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":747,"src":"3702:3:4","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":788,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":749,"src":"3707:3:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":789,"name":"_value","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":751,"src":"3712:6:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"argumentTypes":null,"id":790,"name":"_data","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":753,"src":"3720:5:4","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}],"expression":{"argumentTypes":null,"id":783,"name":"targetContract","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":629,"src":"3663:14:4","typeDescriptions":{"typeIdentifier":"t_contract$_IERC1155_$2175","typeString":"contract IERC1155"}},"id":785,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"safeTransferFrom","nodeType":"MemberAccess","referencedDeclaration":2122,"src":"3663:31:4","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_address_$_t_uint256_$_t_uint256_$_t_bytes_memory_ptr_$returns$__$","typeString":"function (address,address,uint256,uint256,bytes memory) external"}},"id":791,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"3663:63:4","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":792,"nodeType":"ExpressionStatement","src":"3663:63:4"}]},"documentation":"@notice Transfers value amount of an _id from the _from address to the _to addresses specified. Each parameter array should be the same length, with each index correlating.\n@dev MUST emit Transfer event on success.\nCaller must have sufficient allowance by _from for the _id/_value pair, or isApprovedForAll must be true.\nThrows if `_to` is the zero address.\nThrows if `_id` is not a valid token ID.\nOnce allowance is checked the target contract's safeTransferFrom function is called.\n@param _from    source addresses\n@param _to      target addresses\n@param _id      ID of the Token\n@param _value   transfer amounts\n@param _data    Additional data with no specified format, sent in call to `_to`","id":794,"implemented":true,"kind":"function","modifiers":[],"name":"safeTransferFrom","nodeType":"FunctionDefinition","parameters":{"id":754,"nodeType":"ParameterList","parameters":[{"constant":false,"id":745,"name":"_from","nodeType":"VariableDeclaration","scope":794,"src":"3410:13:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":744,"name":"address","nodeType":"ElementaryTypeName","src":"3410:7:4","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":747,"name":"_to","nodeType":"VariableDeclaration","scope":794,"src":"3425:11:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":746,"name":"address","nodeType":"ElementaryTypeName","src":"3425:7:4","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":749,"name":"_id","nodeType":"VariableDeclaration","scope":794,"src":"3438:11:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":748,"name":"uint256","nodeType":"ElementaryTypeName","src":"3438:7:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":751,"name":"_value","nodeType":"VariableDeclaration","scope":794,"src":"3451:14:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":750,"name":"uint256","nodeType":"ElementaryTypeName","src":"3451:7:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"},{"constant":false,"id":753,"name":"_data","nodeType":"VariableDeclaration","scope":794,"src":"3467:20:4","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes"},"typeName":{"id":752,"name":"bytes","nodeType":"ElementaryTypeName","src":"3467:5:4","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"}],"src":"3409:79:4"},"returnParameters":{"id":755,"nodeType":"ParameterList","parameters":[],"src":"3511:0:4"},"scope":910,"src":"3384:349:4","stateMutability":"nonpayable","superFunction":2122,"visibility":"external"},{"body":{"id":865,"nodeType":"Block","src":"4600:315:4","statements":[{"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":812,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":809,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3145,"src":"4614:3:4","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":810,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"4614:10:4","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"argumentTypes":null,"id":811,"name":"_from","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":796,"src":"4628:5:4","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"4614:19:4","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":null,"id":854,"nodeType":"IfStatement","src":"4610:219:4","trueBody":{"id":853,"nodeType":"Block","src":"4635:194:4","statements":[{"body":{"id":851,"nodeType":"Block","src":"4691:128:4","statements":[{"expression":{"argumentTypes":null,"id":849,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":824,"name":"allowances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":637,"src":"4709:10:4","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_address_$_t_mapping$_t_uint256_$_t_uint256_$_$_$","typeString":"mapping(address => mapping(address => mapping(uint256 => uint256)))"}},"id":831,"indexExpression":{"argumentTypes":null,"id":825,"name":"_from","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":796,"src":"4720:5:4","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4709:17:4","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_uint256_$_t_uint256_$_$","typeString":"mapping(address => mapping(uint256 => uint256))"}},"id":832,"indexExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":826,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3145,"src":"4727:3:4","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":827,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"4727:10:4","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4709:29:4","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"}},"id":833,"indexExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":828,"name":"_ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":801,"src":"4739:4:4","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":830,"indexExpression":{"argumentTypes":null,"id":829,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":814,"src":"4744:1:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4739:7:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"4709:38:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":845,"name":"_values","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":804,"src":"4793:7:4","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":847,"indexExpression":{"argumentTypes":null,"id":846,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":814,"src":"4801:1:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4793:10:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":834,"name":"allowances","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":637,"src":"4750:10:4","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_address_$_t_mapping$_t_uint256_$_t_uint256_$_$_$","typeString":"mapping(address => mapping(address => mapping(uint256 => uint256)))"}},"id":836,"indexExpression":{"argumentTypes":null,"id":835,"name":"_from","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":796,"src":"4761:5:4","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4750:17:4","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_mapping$_t_uint256_$_t_uint256_$_$","typeString":"mapping(address => mapping(uint256 => uint256))"}},"id":839,"indexExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":837,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3145,"src":"4768:3:4","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":838,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sender","nodeType":"MemberAccess","referencedDeclaration":null,"src":"4768:10:4","typeDescriptions":{"typeIdentifier":"t_address_payable","typeString":"address payable"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4750:29:4","typeDescriptions":{"typeIdentifier":"t_mapping$_t_uint256_$_t_uint256_$","typeString":"mapping(uint256 => uint256)"}},"id":843,"indexExpression":{"argumentTypes":null,"baseExpression":{"argumentTypes":null,"id":840,"name":"_ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":801,"src":"4780:4:4","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":842,"indexExpression":{"argumentTypes":null,"id":841,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":814,"src":"4785:1:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4780:7:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4750:38:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":844,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"sub","nodeType":"MemberAccess","referencedDeclaration":3049,"src":"4750:42:4","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$returns$_t_uint256_$bound_to$_t_uint256_$","typeString":"function (uint256,uint256) pure returns (uint256)"}},"id":848,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4750:54:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4709:95:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":850,"nodeType":"ExpressionStatement","src":"4709:95:4"}]},"condition":{"argumentTypes":null,"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":820,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"argumentTypes":null,"id":817,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":814,"src":"4669:1:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"argumentTypes":null,"expression":{"argumentTypes":null,"id":818,"name":"_ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":801,"src":"4673:4:4","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},"id":819,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"length","nodeType":"MemberAccess","referencedDeclaration":null,"src":"4673:11:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4669:15:4","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":852,"initializationExpression":{"assignments":[814],"declarations":[{"constant":false,"id":814,"name":"i","nodeType":"VariableDeclaration","scope":852,"src":"4654:9:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":813,"name":"uint256","nodeType":"ElementaryTypeName","src":"4654:7:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"id":816,"initialValue":{"argumentTypes":null,"hexValue":"30","id":815,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4666:1:4","subdenomination":null,"typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"nodeType":"VariableDeclarationStatement","src":"4654:13:4"},"loopExpression":{"expression":{"argumentTypes":null,"id":822,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"4686:3:4","subExpression":{"argumentTypes":null,"id":821,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":814,"src":"4688:1:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":823,"nodeType":"ExpressionStatement","src":"4686:3:4"},"nodeType":"ForStatement","src":"4649:170:4"}]}},{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":858,"name":"_from","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":796,"src":"4875:5:4","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":859,"name":"_to","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":798,"src":"4882:3:4","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":860,"name":"_ids","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":801,"src":"4887:4:4","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},{"argumentTypes":null,"id":861,"name":"_values","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":804,"src":"4893:7:4","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"}},{"argumentTypes":null,"id":862,"name":"_data","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":806,"src":"4902:5:4","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"},{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[] calldata"},{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes calldata"}],"expression":{"argumentTypes":null,"id":855,"name":"targetContract","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":629,"src":"4838:14:4","typeDescriptions":{"typeIdentifier":"t_contract$_IERC1155_$2175","typeString":"contract IERC1155"}},"id":857,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"safeBatchTransferFrom","nodeType":"MemberAccess","referencedDeclaration":2137,"src":"4838:36:4","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_address_$_t_address_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_array$_t_uint256_$dyn_memory_ptr_$_t_bytes_memory_ptr_$returns$__$","typeString":"function (address,address,uint256[] memory,uint256[] memory,bytes memory) external"}},"id":863,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"4838:70:4","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":864,"nodeType":"ExpressionStatement","src":"4838:70:4"}]},"documentation":"@notice Send multiple types of Tokens from a 3rd party in one transfer (with safety call)\n@dev MUST emit Transfer event per id on success.\nCaller must have a sufficient allowance by _from for each of the id/value pairs.\nThrows on any error rather than return a false flag to minimize user errors.\nOnce allowances are checked the target contract's safeBatchTransferFrom function is called.\n@param _from    Source address\n@param _to      Target address\n@param _ids     Types of Tokens\n@param _values  Transfer amounts per token type\n@param _data    Additional data with no specified format, sent in call to `_to`","id":866,"implemented":true,"kind":"function","modifiers":[],"name":"safeBatchTransferFrom","nodeType":"FunctionDefinition","parameters":{"id":807,"nodeType":"ParameterList","parameters":[{"constant":false,"id":796,"name":"_from","nodeType":"VariableDeclaration","scope":866,"src":"4476:13:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":795,"name":"address","nodeType":"ElementaryTypeName","src":"4476:7:4","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":798,"name":"_to","nodeType":"VariableDeclaration","scope":866,"src":"4491:11:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":797,"name":"address","nodeType":"ElementaryTypeName","src":"4491:7:4","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":801,"name":"_ids","nodeType":"VariableDeclaration","scope":866,"src":"4504:23:4","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":799,"name":"uint256","nodeType":"ElementaryTypeName","src":"4504:7:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":800,"length":null,"nodeType":"ArrayTypeName","src":"4504:9:4","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"value":null,"visibility":"internal"},{"constant":false,"id":804,"name":"_values","nodeType":"VariableDeclaration","scope":866,"src":"4529:26:4","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_calldata_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":802,"name":"uint256","nodeType":"ElementaryTypeName","src":"4529:7:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":803,"length":null,"nodeType":"ArrayTypeName","src":"4529:9:4","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"value":null,"visibility":"internal"},{"constant":false,"id":806,"name":"_data","nodeType":"VariableDeclaration","scope":866,"src":"4557:20:4","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes"},"typeName":{"id":805,"name":"bytes","nodeType":"ElementaryTypeName","src":"4557:5:4","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"value":null,"visibility":"internal"}],"src":"4475:103:4"},"returnParameters":{"id":808,"nodeType":"ParameterList","parameters":[],"src":"4600:0:4"},"scope":910,"src":"4445:470:4","stateMutability":"nonpayable","superFunction":2137,"visibility":"external"},{"body":{"id":881,"nodeType":"Block","src":"5238:61:4","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":877,"name":"_owner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":868,"src":"5280:6:4","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":878,"name":"_id","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":870,"src":"5288:3:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"argumentTypes":null,"id":875,"name":"targetContract","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":629,"src":"5255:14:4","typeDescriptions":{"typeIdentifier":"t_contract$_IERC1155_$2175","typeString":"contract IERC1155"}},"id":876,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"balanceOf","nodeType":"MemberAccess","referencedDeclaration":2146,"src":"5255:24:4","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$_t_uint256_$returns$_t_uint256_$","typeString":"function (address,uint256) view external returns (uint256)"}},"id":879,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5255:37:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":874,"id":880,"nodeType":"Return","src":"5248:44:4"}]},"documentation":"@notice Get the balance of an account's Tokens\n@param _owner  The address of the token holder\n@param _id     ID of the Token\n@return        The _owner's balance of the Token type requested","id":882,"implemented":true,"kind":"function","modifiers":[],"name":"balanceOf","nodeType":"FunctionDefinition","parameters":{"id":871,"nodeType":"ParameterList","parameters":[{"constant":false,"id":868,"name":"_owner","nodeType":"VariableDeclaration","scope":882,"src":"5177:14:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":867,"name":"address","nodeType":"ElementaryTypeName","src":"5177:7:4","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":870,"name":"_id","nodeType":"VariableDeclaration","scope":882,"src":"5193:11:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":869,"name":"uint256","nodeType":"ElementaryTypeName","src":"5193:7:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"5176:29:4"},"returnParameters":{"id":874,"nodeType":"ParameterList","parameters":[{"constant":false,"id":873,"name":"","nodeType":"VariableDeclaration","scope":882,"src":"5229:7:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":872,"name":"uint256","nodeType":"ElementaryTypeName","src":"5229:7:4","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":null,"visibility":"internal"}],"src":"5228:9:4"},"scope":910,"src":"5158:141:4","stateMutability":"view","superFunction":2146,"visibility":"external"},{"body":{"id":892,"nodeType":"Block","src":"5573:100:4","statements":[{"expression":{"argumentTypes":null,"arguments":[],"expression":{"argumentTypes":[],"id":889,"name":"revert","nodeType":"Identifier","overloadedDeclarations":[3150,3151],"referencedDeclaration":3150,"src":"5658:6:4","typeDescriptions":{"typeIdentifier":"t_function_revert_pure$__$returns$__$","typeString":"function () pure"}},"id":890,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"5658:8:4","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":891,"nodeType":"ExpressionStatement","src":"5658:8:4"}]},"documentation":"@notice Enable or disable approval for a third party (\"operator\") to manage all of `msg.sender`'s tokens.\n@dev MUST emit the ApprovalForAll event on success.","id":893,"implemented":true,"kind":"function","modifiers":[],"name":"setApprovalForAll","nodeType":"FunctionDefinition","parameters":{"id":887,"nodeType":"ParameterList","parameters":[{"constant":false,"id":884,"name":"","nodeType":"VariableDeclaration","scope":893,"src":"5521:7:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":883,"name":"address","nodeType":"ElementaryTypeName","src":"5521:7:4","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":886,"name":"","nodeType":"VariableDeclaration","scope":893,"src":"5544:4:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":885,"name":"bool","nodeType":"ElementaryTypeName","src":"5544:4:4","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"}],"src":"5520:43:4"},"returnParameters":{"id":888,"nodeType":"ParameterList","parameters":[],"src":"5573:0:4"},"scope":910,"src":"5494:179:4","stateMutability":"nonpayable","superFunction":2165,"visibility":"external"},{"body":{"id":908,"nodeType":"Block","src":"6051:74:4","statements":[{"expression":{"argumentTypes":null,"arguments":[{"argumentTypes":null,"id":904,"name":"_owner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":895,"src":"6100:6:4","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"argumentTypes":null,"id":905,"name":"_operator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":897,"src":"6108:9:4","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"argumentTypes":null,"id":902,"name":"targetContract","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":629,"src":"6068:14:4","typeDescriptions":{"typeIdentifier":"t_contract$_IERC1155_$2175","typeString":"contract IERC1155"}},"id":903,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberName":"isApprovedForAll","nodeType":"MemberAccess","referencedDeclaration":2174,"src":"6068:31:4","typeDescriptions":{"typeIdentifier":"t_function_external_view$_t_address_$_t_address_$returns$_t_bool_$","typeString":"function (address,address) view external returns (bool)"}},"id":906,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"names":[],"nodeType":"FunctionCall","src":"6068:50:4","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"functionReturnParameters":901,"id":907,"nodeType":"Return","src":"6061:57:4"}]},"documentation":"@notice Queries the approval status of an operator for a given Token and owner\n@param _owner     The owner of the Tokens\n@param _operator  Address of authorized operator\n@return           True if the operator is approved, false if not","id":909,"implemented":true,"kind":"function","modifiers":[],"name":"isApprovedForAll","nodeType":"FunctionDefinition","parameters":{"id":898,"nodeType":"ParameterList","parameters":[{"constant":false,"id":895,"name":"_owner","nodeType":"VariableDeclaration","scope":909,"src":"5987:14:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":894,"name":"address","nodeType":"ElementaryTypeName","src":"5987:7:4","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"},{"constant":false,"id":897,"name":"_operator","nodeType":"VariableDeclaration","scope":909,"src":"6003:17:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":896,"name":"address","nodeType":"ElementaryTypeName","src":"6003:7:4","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"value":null,"visibility":"internal"}],"src":"5986:35:4"},"returnParameters":{"id":901,"nodeType":"ParameterList","parameters":[{"constant":false,"id":900,"name":"","nodeType":"VariableDeclaration","scope":909,"src":"6045:4:4","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":899,"name":"bool","nodeType":"ElementaryTypeName","src":"6045:4:4","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"value":null,"visibility":"internal"}],"src":"6044:6:4"},"scope":910,"src":"5961:164:4","stateMutability":"view","superFunction":2174,"visibility":"external"}],"scope":911,"src":"288:5839:4"}],"src":"0:6128:4"},"bytecode":"0x","deployedBytecode":"0x","compiler":{"name":"solc","version":"0.5.10+commit.5a6ea5b1.Emscripten.clang","optimizer":{},"evmVersion":"constantinople"}}
